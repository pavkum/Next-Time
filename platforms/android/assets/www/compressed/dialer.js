var configuartion={events:{userselect:"click"},deviceProps:{getHeight:function(){}},maxRemainderLength:16};var flatUIColors={count:0,colors:["#BF55EC","#F22613","#E87E04","#95A5A6","#1BBC9B","#19B5FE"],getNextColors:function(){return this.colors[this.count++%6]}};var moduleLoader={loadModule:function(e){var t=new $.Deferred;var n=$.ajax({url:"templates/"+e+".html",method:"GET"}).done(function(e){t.resolve(e)}).fail(function(){t.resolve(-1)});return t.promise()}};var displayData=function(e,t){e=JSON.parse(e);FastClick.attach(document.body);$("#name").text(e.name.split(" ")[0]);$("#name").attr("src",e.photo);var n=e.remainders;var r=$(".messages");var i=$('<div class="message"></div>');var s=$("#clear");var o=$(".container");var u=$("header");for(var a=0;a<n.length;a++){var f=n[a];var l=i.clone();l.text(f.message);l.attr("id",f.id);r.append(l)}if(t){o.hide();s.text("Click to open")}else{o.show();s.text("Swipe to clear")}u.on(configuartion.events.userselect,function(){if(o.is(":visible")){o.hide();s.text("Swipe to clear")}else{o.show();s.text("Click to open")}});if(n.length==1){var c=$(".img > img").height();$("#scrolltoshow").hide()}else if(n.length==2){var c=$(".img > img").height();$("#scrolltoshow").hide()}else{$(".img").height(u.height()*3);$(".img").css("line-height",u.height()*3+"px")}var h=10;var p={};p.startX=undefined;p.curX=undefined;p.timer=undefined;$("header").on("touchmove",function(e){var t=e.originalEvent.changedTouches[0].clientX;p.curX=t;if(p.timer){clearTimeout(p.timer);p.timer=undefined}if(!p.startX){p.startX=t}p.timer=setTimeout(function(){p.curX=undefined;p.startX=undefined;p.timer=undefined},500);if(p.curX&&p.startX){var r=p.curX-p.startX;if(r>0&&r>=h){var i=[];for(var s=0;s<n.length;s++){var o=n[s];var u={};u.id=o.id;u.message=o.message;i.push(u)}Android.finish(JSON.stringify(i))}else{e.preventDefault()}}else{e.preventDefault()}});$(".message").on("touchmove",function(e){var t=e.originalEvent.changedTouches[0].clientX;p.curX=t;if(p.timer){clearTimeout(p.timer);p.timer=undefined}if(!p.startX){p.startX=t}p.timer=setTimeout(function(){p.curX=undefined;p.startX=undefined;p.timer=undefined},500);if(p.curX&&p.startX){var n=p.curX-p.startX;if(n>0&&n>=h){var r=$(e.currentTarget);var i=[];var s={};s.id=r.attr("id");s.message=r.text();i.push(s);Android.markSelectedRead(JSON.stringify(i));r.remove();var o=$(".message").length;if(o===0){Android.finish("")}}else{e.preventDefault()}}else{e.preventDefault()}});o.show()};var data={};data.name="Pavan";data.photo="img/profile.png";data.remainders=[];for(var i=0;i<5;i++){var remainder={};remainder.id=i;remainder.message="yo yo "+i;data.remainders.push(remainder)}