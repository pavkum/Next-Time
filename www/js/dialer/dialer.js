// Generated by CoffeeScript 1.7.1
(function($) {
  var initialize;
  initialize = function() {
    var elem;
    elem = $('#dialer');
    //$(window).height(50);
    //return elem.text('Hello man : ' + window.location.hash);
  };
    
  var user = function (data) {
        alert(data);  
  };
    
  $(document).ready(function (){
    initialize();
  });
    
    
})(jQuery);

var updateData = function (data) {

    $('#close').on('touchstart' , function (){
        console.log('finsih');
        Android.finish();
    });

    data = JSON.parse(data);
    
    var index = 0;
    
    $('.name').text(data.name);
    
    if(data.message && data.message.length > 1){
        $('.left').show();
        $('.right').show();    
        
        $('.message').text(data.message[index]);
        
        $('.right').on('click' , function (){
            if((index + 1) < data.message.length) {
                index = index + 1;
                $('.message').text(data.message[index]);
                
                if((index + 1) === data.message.length){
                    $('.right').addClass('disabled');   
                }
                
                if($('.left').hasClass('disabled')){
                    $('.left').removeClass('disabled');
                }
            }
        });
        
        $('.left').on('click' , function (){
            if((index - 1) >= 0){
                index = index - 1; 
                $('.message').text(data.message[index]);
                
                if(index === 0){
                    $('.left').addClass('disabled');   
                }
                if($('.right').hasClass('disabled')){
                    $('.right').removeClass('disabled');
                }
            }
        });
        
        $('.left').addClass('disabled');   
        
    }else if(data.message && data.message.length === 1) {
        $('.message').text(data.message[index]);
    }else{
        // shouldn't come here
        $('.message').text('No remainder');
    }
    
    
    
}
